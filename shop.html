<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Livi — Каталог</title>
<link rel="icon" href="favicon.ico">
<style>
  :root{--fg:#111;--muted:#666;--line:#eee;--bg:#fff;--radius:18px;--shadow:0 8px 28px rgba(0,0,0,.08)}
  *{box-sizing:border-box;margin:0;padding:0}
  body{font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial;background:#fff;color:var(--fg)}
  a{text-decoration:none;color:inherit}
  header{position:sticky;top:0;z-index:40;background:rgba(255,255,255,.95);backdrop-filter:saturate(160%) blur(8px);border-bottom:1px solid var(--line)}
  .nav{max-width:1240px;margin:0 auto;padding:14px 20px;display:flex;gap:12px;align-items:center;justify-content:space-between}
  .brand{font-weight:800;letter-spacing:.08em}
  .nav-left{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
  .nav-left a{border:1px solid var(--line);border-radius:999px;padding:8px 12px;font-size:14px}
  .nav-right{display:flex;align-items:center;gap:8px}
  .chip{border:1px solid var(--line);border-radius:999px;padding:8px 14px;font-size:14px}
  .chip:hover{background:#111;color:#fff;border-color:#111}
  .cart-link{position:relative}
  .cart-badge{position:absolute;top:-6px;right:-6px;background:#111;color:#fff;border-radius:999px;font-size:12px;line-height:1;padding:4px 6px;min-width:20px;text-align:center}

  .wrap{max-width:1240px;margin:0 auto;padding:28px 20px}
  h1{font-size:clamp(24px,4.4vw,40px);margin-bottom:10px}
  .filters{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:18px}
  .tag{border:1px solid var(--line);border-radius:999px;padding:8px 12px;font-size:14px;cursor:pointer}
  .tag.active{background:#111;color:#fff;border-color:#111}
  .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:18px}
  .card{border:1px solid var(--line);border-radius:var(--radius);overflow:hidden;background:#fff;transition:transform .2s, box-shadow .2s}
  .card:hover{transform:translateY(-4px);box-shadow:var(--shadow)}
  .img{aspect-ratio:4/5;background:#f4f4f4}
  .img img{width:100%;height:100%;object-fit:cover;display:block}
  .body{padding:12px}
  .title{font-weight:600;margin-bottom:6px}
  .price{color:#111;font-weight:700}
  .muted{color:var(--muted);font-size:14px;margin-bottom:8px}
  .btn{display:inline-block;background:#111;color:#fff;padding:10px 14px;border-radius:999px;font-size:14px}
  .btn:active{transform:translateY(1px)}
</style>
</head>
<body>
<header>
  <div class="nav">
    <div class="nav-left">
      <a class="brand" href="index.html">LIVI JEWELRY</a>
      <a href="shop.html">Каталог</a>
      <a class="cart-link" href="cart.html">
        Корзина <span id="cartBadge" class="cart-badge" style="display:none;">0</span>
      </a>
    </div>
    <div class="nav-right">
      <a class="chip" href="https://instagram.com/livi_jwl" target="_blank" rel="noopener">Instagram</a>
      <a class="chip" href="https://wa.me/77054510584?text=Здравствуйте!%20Хочу%20украшение%20Livi%20Jewelry." target="_blank" rel="noopener">WhatsApp</a>
    </div>
  </div>
</header>

<main class="wrap">
  <h1>Каталог</h1>
  <div class="filters" id="filters"></div>
  <div class="grid" id="grid"></div>
</main>

<script>
  // ====== Каталог: товары (ваши файлы из assets/)
  const PRODUCTS = [
    {id:'p01', title:'Колье', price:'20 000 тг', img:'assets/Колье 20.000 тг.JPG', cat:'Колье'},
    {id:'p02', title:'Комплект: Колье + Серьги', price:'Колье 40 000 тг · Серьги 10 000 тг', img:'assets/Колье 40.000 тг Серьги 10.000 тг.jpg', cat:'Комплекты'},
    {id:'p03', title:'Колье', price:'40 000 тг', img:'assets/Колье 40.000 тг.jpg', cat:'Колье'},
    {id:'p04', title:'Колье из гематита', price:'20 000 тг', img:'assets/Колье из гематита 20.000 тг.jpg', cat:'Колье'},
    {id:'p05', title:'Колье из жемчуга', price:'60 000 тг', img:'assets/Колье из жемчуга 60.000 тг.JPG', cat:'Колье'},
    {id:'p06', title:'Колье из жемчуга', price:'65 000 тг', img:'assets/Колье из жемчуга 65.000 тг.jpg', cat:'Колье'},
    {id:'p07', title:'Колье из жемчуга', price:'70 000 тг', img:'assets/Колье из жемчуга 70.000 тг.jpg', cat:'Колье'},
    {id:'p08', title:'Колье Майорка', price:'28 000 тг', img:'assets/Колье из жемчуга Майорка 28.000 тг.jpg', cat:'Колье'},
    {id:'p09', title:'Колье Майорка', price:'32 000 тг', img:'assets/Колье из жемчуга Майорка 32.000 тг.jpg', cat:'Колье'},
    {id:'p10', title:'Колье из натуральных камней', price:'20 000 тг', img:'assets/Колье из натуральных камней 20.000 тг.jpg', cat:'Колье'},

    {id:'p11', title:'Комплект: Колье+Браслет+Серьги', price:'Колье 23 000 тг · Браслет 8 500 тг · Серьги 8 500 тг', img:'assets/Колье из натуральных камней 23.000 тг Браслет 8.500 тг Серьги 8.500 тг.jpg', cat:'Комплекты'},
    {id:'p12', title:'Колье из натуральных камней', price:'40 000 тг', img:'assets/Колье из натуральных камней 40.000 тг.jpg', cat:'Колье'},

    {id:'p13', title:'Колье из ракушки', price:'14 000 тг', img:'assets/Колье из ракушки 14.000 тг.jpg', cat:'Колье'},
    {id:'p14', title:'Колье Ракушка', price:'14 000 тг', img:'assets/колье Ракушка 14.000 тг.jpg', cat:'Колье'},

    {id:'p15', title:'Колье-трансформер', price:'40 000 тг', img:'assets/Колье трансформер 40.000 тг.jpg', cat:'Колье'},
    {id:'p16', title:'Колье-трансформер', price:'41 000 тг', img:'assets/Колье трансформер 41.000 тг.jpg', cat:'Колье'},

    {id:'p17', title:'Многослойные браслеты', price:'15 000 тг', img:'assets/Многослойные браслеты 15.000 тг.jpg', cat:'Браслеты'},

    {id:'p18', title:'Сотуар-галстук + серьги', price:'Сотуар 27 000 тг · Серьги 12 000 тг', img:'assets/Сотуар галстук 27.000 тг Серьги 12.000 тг.jpg', cat:'Сотуары'},
    {id:'p19', title:'Сотуар-трансформер + серьги', price:'Сотуар 20 000 тг · Серьги 10 000 тг', img:'assets/Сотуар трансформер 20.000 тг Серьги 10.000 тг.jpg', cat:'Сотуары'},

    {id:'p20', title:'Цепь', price:'15 000 тг', img:'assets/Цепь 15.000 тг.jpg', cat:'Цепи'}
  ];

  // ====== UI
  const CATS = ['Все','Колье','Комплекты','Браслеты','Сотуары','Цепи'];
  const grid = document.getElementById('grid');
  const filters = document.getElementById('filters');
  let activeCat = localStorage.getItem('livi_active_cat') || 'Все';

  function renderFilters(){
    filters.innerHTML = '';
    CATS.forEach(c=>{
      const btn = document.createElement('button');
      btn.className='tag'+(c===activeCat?' active':'');
      btn.textContent=c;
      btn.onclick=()=>{ activeCat=c; localStorage.setItem('livi_active_cat',c); renderFilters(); renderGrid(); };
      filters.appendChild(btn);
    });
  }

  function el(tag, cls, html){ const e=document.createElement(tag); if(cls) e.className=cls; if(html) e.innerHTML=html; return e; }

  function renderGrid(){
    grid.innerHTML = '';
    const items = activeCat==='Все' ? PRODUCTS : PRODUCTS.filter(p=>p.cat===activeCat);
    items.forEach(p=>{
      const card = el('article','card');
      const imgWrap = el('div','img'); imgWrap.innerHTML=`<img src="${p.img}" alt="${p.title}">`;
      const body = el('div','body');
      body.appendChild(el('div','title',p.title));
      body.appendChild(el('div','muted',p.cat));
      body.appendChild(el('div','price',p.price));
      const btn = el('button','btn','Добавить в корзину');
      btn.onclick=()=>addToCart(p);
      body.appendChild(btn);
      card.appendChild(imgWrap); card.appendChild(body);
      grid.appendChild(card);
    });
  }

  // ====== Корзина (localStorage одинаковый ключ с cart.html / index.html)
  function readCart(){ try{return JSON.parse(localStorage.getItem('livi_cart_v2')||'[]')}catch(e){return []} }
  function writeCart(v){ localStorage.setItem('livi_cart_v2', JSON.stringify(v)); updateBadge(); }
  function addToCart(p){
    const cart = readCart();
    const i = cart.findIndex(x=>x.id===p.id);
    if(i>-1) cart[i].qty += 1; else cart.push({id:p.id,title:p.title,price:p.price,img:p.img,qty:1});
    writeCart(cart);
  }
  function updateBadge(){
    const count = readCart().reduce((s,i)=>s+i.qty,0);
    const b = document.getElementById('cartBadge');
    if(count>0){ b.textContent=count; b.style.display='inline-block'; } else { b.style.display='none'; }
  }
  window.addEventListener('storage',e=>{ if(e.key==='livi_cart_v2') updateBadge(); });

  renderFilters(); renderGrid(); updateBadge();
</script>
</body>
</html>
