<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Каталог — Livi Jewelry</title>
  <meta name="description" content="Каталог украшений Livi Jewelry: жемчуг и камни. Ручная работа.">
  <link rel="canonical" href="https://livijewelry.kz/shop.html">
  <link rel="icon" href="/favicon.ico">
  <style>
    :root{--fg:#111;--muted:#666;--line:#eee;--bg:#fff;--radius:18px;--shadow:0 8px 30px rgba(0,0,0,.09)}
    *{box-sizing:border-box;margin:0;padding:0}
    body{font:16px/1.6 system-ui,-apple-system,Segoe UI,Roboto,Arial;color:var(--fg);background:var(--bg)}
    a{color:inherit;text-decoration:none}

    header{position:sticky;top:0;z-index:40;background:rgba(255,255,255,.9);backdrop-filter:saturate(160%) blur(8px);border-bottom:1px solid var(--line)}
    .nav{max-width:1240px;margin:0 auto;padding:14px 20px;display:flex;gap:14px;align-items:center;justify-content:space-between}
    .brand{display:flex;align-items:center;gap:10px}
    .brand img{display:block;height:44px;object-fit:contain}
    .nav-left{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    .nav-left a:not(.brand){border:1px solid var(--line);border-radius:999px;padding:8px 12px;font-size:14px}
    .cart-link{position:relative}
    .cart-badge{position:absolute;top:-6px;right:-6px;background:#111;color:#fff;border-radius:999px;font-size:12px;line-height:1;padding:4px 6px;min-width:20px;text-align:center}

    main{max-width:1240px;margin:0 auto;padding:28px 20px}
    h1{font-size:clamp(26px,4.2vw,42px);margin-bottom:16px}
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px}
    @media(max-width:980px){.grid{grid-template-columns:repeat(2,1fr)}}
    @media(max-width:640px){.grid{grid-template-columns:1fr}}

    .card{border:1px solid var(--line);border-radius:var(--radius);overflow:hidden;background:#fff}
    .thumb{aspect-ratio:1/1;object-fit:cover;width:100%;display:block}
    .info{padding:12px}
    .name{font-weight:600;margin-bottom:6px}
    .meta{display:flex;justify-content:space-between;align-items:center;color:var(--muted)}
    .btn{display:inline-block;margin-top:10px;background:#111;color:#fff;padding:10px 14px;border-radius:999px}

    /* modal */
    #product-modal[hidden]{display:none}
    #product-modal{position:fixed;inset:0;display:grid;place-items:center}
    .pm-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.5)}
    .pm-card{position:relative;background:#fff;border-radius:20px;max-width:960px;width:94%;padding:16px;z-index:1}
    .pm-card img{width:100%;height:auto;border-radius:12px}
    .pm-close{position:absolute;top:8px;right:12px;font-size:28px;background:none;border:none;cursor:pointer}
    .pm-buy{display:flex;justify-content:space-between;align-items:center;margin-top:12px}
  </style>
</head>
<body>
<header>
  <div class="nav">
    <div class="nav-left">
      <a class="brand" href="index.html" aria-label="Livi Jewelry">
        <img src="1200.JPG" alt="Livi Jewelry" onerror="this.style.display='none'">
      </a>
      <a href="shop.html">Каталог</a>
      <a href="index.html#about">О нас</a>
      <a class="cart-link" href="cart.html">Корзина <span id="cartBadge" class="cart-badge" style="display:none;">0</span></a>
    </div>
  </div>
</header>

<main>
  <h1>Каталог</h1>
  <div id="grid" class="grid"></div>
</main>

<!-- modal -->
<div id="product-modal" hidden>
  <div class="pm-backdrop"></div>
  <div class="pm-card" role="dialog" aria-modal="true">
    <button class="pm-close" aria-label="Закрыть">&times;</button>
    <img id="pm-image" alt="">
    <h2 id="pm-title" style="margin-top:8px"></h2>
    <p id="pm-desc" style="color:#666"></p>
    <div class="pm-buy">
      <strong id="pm-price"></strong>
      <button id="pm-add" class="btn">Добавить в корзину</button>
    </div>
  </div>
</div>

<script>
  // товары (замени своими)
  const products = [
    {id:'LJ-NECK-001', name:'Колье из жемчуга', price:45000, image:'/images/p1.jpg', desc:'Натуральный жемчуг, фурнитура сталь'},
    {id:'LJ-BRC-002',  name:'Браслет с жемчугом', price:28000, image:'/images/p2.jpg', desc:'Ручная работа, жемчуг'},
    {id:'LJ-CHK-003',  name:'Чокер Livi', price:32000, image:'/images/p3.jpg', desc:'Минимализм и элегантность'}
  ];

  // отрисовка
  const grid = document.getElementById('grid');
  grid.innerHTML = products.map(p => `
    <article class="card">
      <img class="thumb" src="${p.image}" alt="${p.name}" loading="lazy" onerror="this.style.display='none'">
      <div class="info">
        <div class="name">${p.name}</div>
        <div class="meta"><span>${p.price.toLocaleString('ru-KZ')} ₸</span>
          <a class="btn" href="#" onclick="openProduct('${p.id}');return false;">Смотреть</a>
        </div>
      </div>
    </article>
  `).join('');

  // modal
  const modal = document.getElementById('product-modal');
  const img = document.getElementById('pm-image');
  const ttl = document.getElementById('pm-title');
  const dsc = document.getElementById('pm-desc');
  const prc = document.getElementById('pm-price');
  const addBtn = document.getElementById('pm-add');
  modal.querySelector('.pm-close').onclick = ()=> modal.hidden = true;
  modal.onclick = e => { if (e.target === modal) modal.hidden = true; }
  function openProduct(id){
    const p = products.find(x=>x.id===id);
    if(!p) return;
    img.src = p.image; img.alt = p.name;
    ttl.textContent = p.name;
    dsc.textContent = p.desc || '';
    prc.textContent = p.price.toLocaleString('ru-KZ') + ' ₸';
    addBtn.onclick = ()=> addToCart(p);
    modal.hidden = false;
  }

  // корзина
  function readCart(){ try{return JSON.parse(localStorage.getItem('livi_cart_v2')||'[]')}catch(e){return []} }
  function writeCart(c){ localStorage.setItem('livi_cart_v2', JSON.stringify(c)); updateBadge(); }
  function addToCart(p){
    const c = readCart();
    const i = c.findIndex(x=>x.id===p.id);
    if(i>=0) c[i].qty += 1; else c.push({id:p.id, name:p.name, price:p.price, image:p.image, qty:1});
    writeCart(c);
    modal.hidden = true;
  }
  function updateBadge(){
    const count = readCart().reduce((s,i)=>s+i.qty,0);
    const b = document.getElementById('cartBadge');
    if(!b) return;
    b.style.display = count>0 ? 'inline-block':'none';
    if(count>0) b.textContent = count;
  }
  updateBadge();
  window.addEventListener('storage',e=>{ if(e.key==='livi_cart_v2') updateBadge(); });
</script>
</body>
</html>
